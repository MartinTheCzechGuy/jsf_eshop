<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<h:html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head></h:head>

    <h:body>
        <ui:composition template="layout.xhtml">
            <ui:define name="page-content">
                <h:dataTable value="#{productListController.productList}" var="selectedItem">
                    <h:column>
                        <h:graphicImage value="resources/images/#{selectedItem.img}" alt="image not found"/>
                    </h:column>

                    <h:column>
                        <h1>#{selectedItem.name}</h1>
                        <p>#{selectedItem.description}</p>
                    </h:column>

                    <h:column>
                        <h:form>
                            <h:inputText id="amount" required="true" value="#{shoppingCartController.selectedQuantity}"/>
                            <h:outputLabel for="amount" value="amount: "/>
                            <h:commandButton value="Add to cart" action="#{shoppingCartController.addItem(selectedItem.id)}"/>
                        </h:form>
                    </h:column>
                </h:dataTable>

                <h:outputScript rendered="#{shoppingCartController.quantityUnavaible}">
                    alert("Selected amount is not avaible, one item has been added to the cart.");
                </h:outputScript>

            </ui:define>
        </ui:composition>
    </h:body>
</h:html>
